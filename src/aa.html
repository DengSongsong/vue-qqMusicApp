<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>第一题</title>
    <link href="https://cdn.bootcss.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        input {
            border: none;
            width: 100%;
            height: 100%;
        }

        td {
            width: 1px;
        }
    </style>
</head>

<body>
    <div class="con">
        <table class="table  table-bordered">
            <thead>
                <tr>
                    <th style="width: 30px">姓名</th>
                    <th>语文</th>
                    <th>数学</th>
                    <th>英语</th>
                    <th>总分</th>
                </tr>
            </thead>
            <tbody>
                <tr class="item">
                    <td>何明</td>
                    <td>
                        <input class="score"  value="1"/>
                    </td>
                    <td>
                        <input class="score" value="1"/>
                    </td>
                    <td>
                        <input class="score" value="1" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>李小涵</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>章林</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>何雨欣</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>李冰</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>吴飞宏</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>刘洋</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
                <tr class="item">
                    <td>徐旭</td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td>
                        <input class="score" />
                    </td>
                    <td class="totalscore"></td>
                </tr>
            </tbody>
        </table>
        <button type="button" class="btn btn-calculateS" onclick="calculateScore()">计算总分</button>
        <button type="button" class="btn btn-createG" onclick="createGraph()">生成图表</button>
    </div>
    <div id="container" style="min-width:400px;height:400px"></div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.hcharts.cn/highcharts/highcharts.js"></script>
    <script>
        window.onload = function () {
            calculateScore();
            createGraph()
        }
        //计算总成绩
        function calculateScore() {
            var items = $('.item');
            var total = 0;
            for (var i = 0; i < items.length; i++) {
                var scores = items[i].getElementsByClassName('score');
                total = 0;
                for (var j = 0; j < scores.length; j++) {
                    total += Number(scores[j].value);
                }
                var totals = items[i].getElementsByClassName('totalscore');
                totals[0].innerHTML = total;
            }
        }
        //绘图
        function createGraph() {
            var scoreAll = $('.score');
            // console.log(1)
            console.log(scoreAll[0].value)
            var s = [];
            for(var i = 0;i < scoreAll.length;i ++) {
                s[i] = Number(scoreAll[i].value);
            }
            // console.log(s)
            var totalAll = $('.totalscore');
            console.log(totalAll)
            var t = []
            for(var j = 0;j < totalAll.length;j ++) {
                t[j] = Number(totalAll[j].innerHTML);
            }
            console.log(t)
            // var chart = Highcharts.chart('container', {
            //     chart: {
            //         type: 'column'
            //     },
            //     title: {
            //         text: '学生成绩柱状图'
            //     },
            //     subtitle: {
            //         text: '数据来源:caixiajiejie'
            //     },
            //     xAxis: {
            //         categories: [
            //             '何明', '李小涵', '章林', '何雨欣', '李冰', '吴飞宏', '刘洋', '徐旭'
            //         ],
            //         crosshair: true
            //     },
            //     yAxis: {
            //         min: 0,
            //         title: {
            //             text: '分数（分）'
            //         }
            //     },
            //     tooltip: {
            //         // head + 每个 point + footer 拼接成完整的 table
            //         headerFormat: '<span style="font-size:15px;color:red">{point.key}</span><table>',
            //         pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            //             '<td style="padding:0"><b>{point.y:.1f}分</b></td></tr>',
            //         footerFormat: '</table>',
            //         shared: true,
            //         useHTML: true
            //     },
            //     plotOptions: {
            //         column: {
            //             borderWidth: 0
            //         }
            //     },
            //     series: [{
            //         name: '语文',
            //         data: [s[0], s[3], s[6], s[9], s[12], s[15], s[18], s[21]]
            //     }, {
            //         name: '数学',
            //         data: [s[1], s[4], s[7], s[10], s[13], s[16], s[19], s[22]]
            //     }, {
            //         name: '英语',
            //         data: [s[2], s[5], s[8], s[11], s[14], s[17], s[20], s[23]]
            //     }, {
            //         name: '总分',
            //         data: [t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7]]
            //     }]
            // });
        }
    </script>
</body>

</html>